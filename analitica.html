<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Analítica</title>
    <!--Enlace a tipografía externa-->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100..900;1,100..900&family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap"
        rel="stylesheet">
    <!--Enlaces a CSS y Framework Bootstrap-->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-4Q6Gf2aSP4eDXB8Miphtr37CMZZQ5oXLH2yaXMJ2w8e2ZtHTl7GptT4jmndRuHDT" crossorigin="anonymous">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet">
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/daterangepicker/daterangepicker.css" />
    <link rel="stylesheet" href="css/styleAnalitica.css">
    <link rel="icon" href="img/favicon.ico" type="image/x-icon">
</head>

<body>
    <!-- EL NAVBAR SE INYECTA AUTOMÁTICAMENTE AQUÍ -->

    <section class="hero-section position-relative">
        <section class="analytics-banner text-white py-5">
            <div class="container py-5 flex-column justify-content-center">
                <h1 class="display-4 mb-3 h1banner">Analítica</h1>
                <p class="lead pbanner">Explora métricas clave del desempeño operativo</p>
            </div>
        </section>
    </section>

    <main>
        <div class="container text-center mb-5">
            <div class="section-divider">
                <hr class="line-left">
                <h2 class="section-title">Resumen General</h2>
                <hr class="line-right">
            </div>
        </div>

        <div class="container cards-container">
            <div class="row justify-content-center">
                <div class="col-12 col-lg-4 mb-4">
                    <div class="card shadow-lg">
                        <div class="card-body">
                            <div class="d-flex justify-content-between">
                                <svg width="37" height="37" viewBox="0 0 37 37" fill="none"
                                    xmlns="http://www.w3.org/2000/svg">
                                    <g clip-path="url(#clip0_187_117)">
                                        <path
                                            d="M24.013 19.4957L20.1667 17.2755V9.16667C20.1667 8.68044 19.9735 8.21412 19.6297 7.8703C19.2859 7.52649 18.8196 7.33333 18.3333 7.33333C17.8471 7.33333 17.3808 7.52649 17.037 7.8703C16.6932 8.21412 16.5 8.68044 16.5 9.16667V18.3333C16.5 18.6551 16.5847 18.9713 16.7456 19.25C16.9065 19.5287 17.138 19.7601 17.4167 19.921L22.1797 22.671C22.3883 22.7933 22.619 22.8731 22.8585 22.9058C23.0981 22.9386 23.3417 22.9236 23.5755 22.8618C23.8092 22.8 24.0284 22.6926 24.2205 22.5458C24.4126 22.3989 24.5737 22.2155 24.6946 22.0061C24.8155 21.7967 24.8937 21.5655 24.9249 21.3257C24.9561 21.086 24.9395 20.8424 24.8762 20.6091C24.8128 20.3757 24.7039 20.1572 24.5558 19.9661C24.4077 19.7751 24.2232 19.6152 24.013 19.4957ZM18.3333 0C14.7074 0 11.1628 1.07523 8.14789 3.08972C5.13299 5.10422 2.78316 7.96749 1.39555 11.3175C0.00794354 14.6674 -0.355118 18.3537 0.352278 21.91C1.05967 25.4663 2.80575 28.733 5.36972 31.297C7.93368 33.8609 11.2004 35.607 14.7567 36.3144C18.313 37.0218 21.9992 36.6587 25.3492 35.2711C28.6992 33.8835 31.5625 31.5337 33.5769 28.5188C35.5914 25.5039 36.6667 21.9593 36.6667 18.3333C36.6618 13.4725 34.7287 8.81218 31.2916 5.37507C27.8545 1.93795 23.1942 0.00485354 18.3333 0ZM18.3333 33C15.4325 33 12.5969 32.1398 10.185 30.5282C7.77306 28.9166 5.89319 26.626 4.78311 23.946C3.67302 21.266 3.38257 18.3171 3.94849 15.472C4.51441 12.627 5.91127 10.0136 7.96244 7.96243C10.0136 5.91126 12.627 4.5144 15.472 3.94848C18.3171 3.38257 21.266 3.67302 23.946 4.7831C26.626 5.89319 28.9166 7.77305 30.5282 10.185C32.1398 12.5969 33 15.4325 33 18.3333C32.9952 22.2217 31.4484 25.9494 28.6989 28.6989C25.9494 31.4484 22.2217 32.9951 18.3333 33Z"
                                            fill="#DC2F02" />
                                    </g>
                                    <defs>
                                        <clipPath id="clip0_187_117">
                                            <rect width="36.6667" height="36.6667" fill="white" />
                                        </clipPath>
                                    </defs>
                                </svg>

                                <a href="tickets.html">
                                    <img src="img/analiticaImg/ArrowIcon.png" alt="Ir a Detalles" class="card-row"
                                        style="object-fit: contain; cursor: pointer;">
                                </a>
                            </div>
                            <div class="centro">
                                <h5 class="card-title-lg" id="ticketsEnEsperaTitle"></h5>
                                <p class="card-number" id="ticketsEnEsperaNumber"></p>
                                <p class="card-description" id="ticketsEnEsperaDescription"></p>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-12 col-lg-4 mb-4">
                    <div class="card shadow-lg">
                        <div class="card-body">
                            <div class="d-flex justify-content-between">
                                <svg xmlns="http://www.w3.org/2000/svg" width="46" height="46" viewBox="0 0 46 46"
                                    fill="none" class="mb-3 card-icon">
                                    <path fill-rule="evenodd" clip-rule="evenodd"
                                        d="M9.58333 5.75C8.56667 5.75 7.59165 6.15387 6.87276 6.87276C6.15387 7.59165 5.75 8.56667 5.75 9.58333V36.4167C5.75 37.4333 6.15387 38.4084 6.87276 39.1272C7.59165 39.8461 8.56667 40.25 9.58333 40.25H21.0833C22.1 40.25 23.075 39.8461 23.7939 39.1272C24.5128 38.4084 24.9167 37.4333 24.9167 36.4167V24.9167H36.4167C37.4333 24.9167 38.4084 24.5128 39.1272 23.7939C39.8461 23.075 40.25 22.1 40.25 21.0833V9.58333C40.25 8.56667 39.8461 7.59165 39.1272 6.87276C38.4084 6.15387 37.4333 5.75 36.4167 5.75H9.58333ZM24.9167 21.0833H36.4167V9.58333H24.9167V21.0833ZM9.58333 24.9167V36.4167H21.0833V24.9167H9.58333ZM9.58333 21.0833H21.0833V9.58333H9.58333V21.0833Z"
                                        fill="#F48C06" />
                                </svg>
                                <a href="tickets.html">
                                    <img src="img/analiticaImg/ArrowIcon.png" alt="Ir a Detalles" class="card-row"
                                        style="object-fit: contain; cursor: pointer;">
                                </a>
                            </div>
                            <div class="centro">
                                <h5 class="card-title-lg" id="ticketsEnProcesoTitle"></h5>
                                <p class="card-number" id="ticketsEnProcesoNumber"></p>
                                <p class="card-description" id="ticketsEnProcesoDescription"></p>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-12 col-lg-4 mb-4">
                    <div class="card shadow-lg">
                        <div class="card-body">
                            <div class="d-flex justify-content-between">
                                <svg xmlns="http://www.w3.org/2000/svg" width="43" height="43" viewBox="0 0 43 43"
                                    fill="none" class="mb-3 card-icon">
                                    <path
                                        d="M18.352 29.2293L10.75 21.6255L13.2834 19.0921L18.352 24.1589L28.4857 14.0234L31.0209 16.5586L18.352 29.2293Z"
                                        fill="#32C91E" />
                                    <path fill-rule="evenodd" clip-rule="evenodd"
                                        d="M1.79199 21.5001C1.79199 10.6157 10.6159 1.79175 21.5003 1.79175C32.3847 1.79175 41.2087 10.6157 41.2087 21.5001C41.2087 32.3845 32.3847 41.2084 21.5003 41.2084C10.6159 41.2084 1.79199 32.3845 1.79199 21.5001ZM21.5003 37.6251C19.3828 37.6251 17.2859 37.208 15.3296 36.3976C13.3732 35.5873 11.5956 34.3995 10.0982 32.9022C8.60088 31.4048 7.41312 29.6272 6.60277 27.6708C5.79241 25.7145 5.37532 23.6176 5.37532 21.5001C5.37532 19.3825 5.79241 17.2857 6.60277 15.3293C7.41312 13.3729 8.60088 11.5953 10.0982 10.098C11.5956 8.60064 13.3732 7.41288 15.3296 6.60252C17.2859 5.79217 19.3828 5.37508 21.5003 5.37508C25.7769 5.37508 29.8784 7.07396 32.9024 10.098C35.9264 13.122 37.6253 17.2235 37.6253 21.5001C37.6253 25.7767 35.9264 29.8782 32.9024 32.9022C29.8784 35.9262 25.7769 37.6251 21.5003 37.6251Z"
                                        fill="#32C91E" />
                                </svg>
                                <a href="tickets.html">
                                    <img src="img/analiticaImg/ArrowIcon.png" alt="Ir a Detalles" class="card-row"
                                        style="object-fit: contain; cursor: pointer;">
                                </a>
                            </div>
                            <div class="centro">
                                <h5 class="card-title-lg" id="ticketsCerradosTitle"></h5>
                                <p class="card-number" id="ticketsCerradosNumber"></p>
                                <p class="card-description" id="ticketsCerradosDescription"></p>
                            </div>
                        </div>
                    </div>
                </div>




                <div class="container">
                    <div class="row g-4 align-items-stretch">
                        <div class="col-12 col-md-6 col-lg-3 mb-4">
                            <div class="card shadow-lg h-100">
                                <div class="card-body d-flex flex-column align-items-center justify-content-center">
                                    <h5 class="card-title-custom mb-4">Rendimiento</h5>

                                    <div class="gauge-container mb-3">
                                        <div class="gauge-bg"></div>
                                        <div class="gauge-cover"></div>
                                        <div id="gaugeNeedle" class="gauge-needle"></div>
                                    </div>

                                    <div class="rendimiento-stars mb-1" id="rendimientoStars"></div>
                                    <p class="rendimiento-text" id="rendimientoLabel">Bueno</p>
                                </div>
                            </div>
                        </div>


                        <div class="col-12 col-md-12 col-lg-6 mb-4 order-2 order-md-3 order-lg-2">
                            <div class="card shadow-lg h-100">
                                <div class="card-body d-flex flex-column">
                                    <h5 class="card-title-custom mb-0">Nuevos Usuarios</h5>

                                    <!-- Dropdown Bootstrap -->
                                    <div class="dropdown">
                                        <button class="btn btn-sm btn-light border dropdown-toggle" type="button"
                                            id="dropdownNewUsers" data-bs-toggle="dropdown" aria-expanded="false">
                                            6 Meses
                                        </button>
                                        <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdownNewUsers">
                                            <li><a class="dropdown-item" href="#">1 Mes</a></li>
                                            <li><a class="dropdown-item" href="#">3 Meses</a></li>
                                            <li><a class="dropdown-item" href="#">6 Meses</a></li>
                                            <li><a class="dropdown-item" href="#">12 Meses</a></li>
                                        </ul>
                                    </div>
                                </div>

                                <!-- Gráfico ocupa todo el espacio restante -->
                                <div id="barChartApex" class="flex-fill" style="min-height:180px;"></div>

                            </div>
                        </div>
                        <div class="col-12 col-md-6 col-lg-3 mb-4 order-3 order-md-2 order-lg-3">
                            <div class="card shadow-lg h-100">
                                <div class="card-body d-flex flex-column align-items-center justify-content-center">
                                    <h5 class="card-title-custom mb-4">Progreso</h5>

                                    <div class="donut-chart-container" data-bs-toggle="tooltip"
                                        data-bs-placement="right"
                                        data-bs-title="Representa en porcentajes el progreso del año.">
                                        <svg class="donut-svg" width="170" height="170" viewBox="0 0 42 42"
                                            aria-hidden="true">
                                            <defs>
                                                <!-- Degradado para el arco de progreso -->
                                                <linearGradient id="donutGradient" x1="0%" y1="0%" x2="100%" y2="0%">
                                                    <stop offset="0%" stop-color="#f7a321" />
                                                    <stop offset="100%" stop-color="#dd5001" />
                                                </linearGradient>
                                            </defs>
                                            <!-- Track de fondo (tenue) -->
                                            <circle class="donut-track" cx="21" cy="21" r="15.9" stroke-width="8">
                                            </circle>
                                            <!-- Arco de progreso -->
                                            <circle id="donutFill" class="donut-fill" cx="21" cy="21" r="15.9"
                                                stroke-width="8"></circle>
                                        </svg>

                                        <div class="donut-text">
                                            <div class="total-label fw-semibold">Total</div>
                                            <div class="percentage-label" id="donutPercentage">0%</div>
                                        </div>
                                    </div>

                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="container text-center mt-5 mb-5">
                <div class="section-divider">
                    <hr class="line-left">
                    <h2 class="section-title">Alertas y Objetivos</h2>
                    <hr class="line-right">
                </div>
            </div>

            <div class="container mb-5">
                <div class="card shadow-lg">
                    <div class="card-body">
                        <table class="table table-hover alerts-table">
                            <thead>
                                <tr>
                                    <th scope="col">Métrica</th>
                                    <th scope="col">Descripción</th>
                                    <th scope="col">Objetivo (SLA)</th>
                                    <th scope="col">Actual</th>
                                    <th scope="col">Cumplimiento</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>Tiempo de primera respuesta</td>
                                    <td>La rapidez inicial en la que se responde a un ticket.</td>
                                    <td>≤ 1h</td>
                                    <td>45 min</td>
                                    <td><span class="status-indicator completed"></span> Cumplido</td>
                                </tr>
                                <tr>
                                    <td>Tiempo de resolución</td>
                                    <td>El tiempo total para solucionar por completo un ticket.</td>
                                    <td>≤ 24h</td>
                                    <td>28 h</td>
                                    <td><span class="status-indicator not-completed"></span> No cumplido</td>
                                </tr>
                                <tr>
                                    <td>Tickets resueltos al día</td>
                                    <td>La cantidad de tickets que se cierran en un día.</td>
                                    <td>≥ 50</td>
                                    <td>60</td>
                                    <td><span class="status-indicator completed"></span> Cumplido</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
        </div>
    </main>

    <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/moment/min/moment.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/daterangepicker/daterangepicker.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/apexcharts"></script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <!-- Incluye SweetAlert2 desde CDN -->
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <!-- Navbar -->
    <script type="module" src="js/navbarLoader.js" defer></script>

    <!-- Mi JS-->
    <script src="js/scriptAnalitica.js"></script>
</body>

</html>